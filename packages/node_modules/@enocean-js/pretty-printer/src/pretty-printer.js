const RESET = '\x1b[0m'
// const BRIGHT = '\x1b[1m'
const DIM = '\x1b[2m'
function toHex (val, len = 2) {
  return val.toString(16).padStart(len, '0')
}
function col (num) {
  return `\x1b[38;5;${num}m`
}
function colored (value, color) {
  return `${col(color)}${value}${RESET}`
}
function dim (value) {
  return `${DIM}${value}${RESET}`
}
const packetTypeColors = {
  0x01: 99,
  0x02: 203,
  0x05: 208
}

export const pretty = Object.create({})
pretty.logESP3 = function (packet) {
  if (typeof window === 'undefined') {
    console.log(`${dim(55)}.${colored(toHex(packet.dataLength, 4), 39)}.${colored(toHex(packet.optionalLength), 83)}.${colored(toHex(packet.packetType), packetTypeColors[packet.packetType])}.${dim(toHex(packet.crc8Header))}.${colored(toHex(packet.data), 39)}.${colored(packet.optionalLength === 0 ? '' : toHex(packet.optionalData), 83)}.${dim(toHex(packet.crc8Data))}`)
  } else {

  }
}
